# é¡¹ç›®æ–‡ä»¶ç»“æ„

## å®Œæ•´ç›®å½•æ ‘

```
posts-copilot/
â”œâ”€â”€ ğŸ“„ README.md                          # é¡¹ç›®ä¸»æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ requirements.txt                   # Pythonä¾èµ–
â”œâ”€â”€ ğŸ“„ LICENSE                            # å¼€æºåè®®
â”œâ”€â”€ ğŸ“„ CHANGELOG.md                       # æ›´æ–°æ—¥å¿—
â”œâ”€â”€ ğŸ“„ CONTRIBUTING.md                    # è´¡çŒ®æŒ‡å—
â”‚
â”œâ”€â”€ ğŸ”§ config/                            # é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ common.yaml.example               # é€šç”¨é…ç½®æ¨¡æ¿
â”‚   â”œâ”€â”€ common.yaml                       # é€šç”¨é…ç½®ï¼ˆå¯ç”¨çš„å¹³å°ï¼‰
â”‚   â”œâ”€â”€ csdn.yaml                         # CSDNå¹³å°é…ç½®
â”‚   â”œâ”€â”€ juejin.yaml                       # æ˜é‡‘å¹³å°é…ç½®
â”‚   â”œâ”€â”€ zhihu.yaml                        # çŸ¥ä¹å¹³å°é…ç½®
â”‚   â”œâ”€â”€ cto51.yaml                        # 51CTOå¹³å°é…ç½®
â”‚   â”œâ”€â”€ alicloud.yaml                     # é˜¿é‡Œäº‘å¹³å°é…ç½®
â”‚   â”œâ”€â”€ toutiao.yaml                      # ä»Šæ—¥å¤´æ¡å¹³å°é…ç½®
â”‚   â”œâ”€â”€ wechat.yaml                       # å¾®ä¿¡å…¬ä¼—å·é…ç½®
â”‚   â””â”€â”€ content_generation.yaml           # ğŸ†• å†…å®¹ç”Ÿæˆé…ç½®
â”‚
â”œâ”€â”€ ğŸ¤– generate/                          # ğŸ†• å†…å®¹ç”Ÿæˆæ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ qbitai_crawler.py                 # ğŸ†• é‡å­ä½æ–°é—»çˆ¬è™«
â”‚   â”œâ”€â”€ reference_searcher.py             # ğŸ†• å‚è€ƒèµ„æ–™æœç´¢å™¨
â”‚   â”œâ”€â”€ enhanced_content_generator.py     # ğŸ†• å¢å¼ºå†…å®¹ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ auto_content_pipeline.py          # ğŸ†• è‡ªåŠ¨åŒ–æµæ°´çº¿
â”‚   â”œâ”€â”€ zhipu_content_generator.py        # åŸºç¡€å†…å®¹ç”Ÿæˆå™¨
â”‚   â””â”€â”€ zhipu_news_search.py              # æ–°é—»æœç´¢åŠŸèƒ½
â”‚
â”œâ”€â”€ ğŸ“š src/                               # æ ¸å¿ƒæºä»£ç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                             # æ ¸å¿ƒåŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ logger.py                     # æ—¥å¿—ç®¡ç†
â”‚   â”‚   â””â”€â”€ session_manager.py            # ä¼šè¯ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ publisher/                        # å‘å¸ƒå™¨æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base_publisher.py             # åŸºç¡€å‘å¸ƒå™¨æŠ½è±¡ç±»
â”‚   â”‚   â”œâ”€â”€ common_handler.py             # é€šç”¨å¤„ç†é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ csdn_publisher.py             # CSDNå‘å¸ƒå™¨
â”‚   â”‚   â”œâ”€â”€ juejin_publisher.py           # æ˜é‡‘å‘å¸ƒå™¨
â”‚   â”‚   â”œâ”€â”€ zhihu_publisher.py            # çŸ¥ä¹å‘å¸ƒå™¨
â”‚   â”‚   â”œâ”€â”€ cto51_publisher.py            # 51CTOå‘å¸ƒå™¨
â”‚   â”‚   â”œâ”€â”€ alicloud_publisher.py         # é˜¿é‡Œäº‘å‘å¸ƒå™¨
â”‚   â”‚   â”œâ”€â”€ toutiao_publisher.py          # ä»Šæ—¥å¤´æ¡å‘å¸ƒå™¨
â”‚   â”‚   â””â”€â”€ wechat_publisher.py           # å¾®ä¿¡å…¬ä¼—å·å‘å¸ƒå™¨
â”‚   â”‚
â”‚   â””â”€â”€ utils/                            # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ file_utils.py                 # æ–‡ä»¶å¤„ç†å·¥å…·
â”‚       â”œâ”€â”€ yaml_file_utils.py            # YAMLé…ç½®å·¥å…·
â”‚       â”œâ”€â”€ selenium_utils.py             # Seleniumå·¥å…·
â”‚       â””â”€â”€ pandoc.css                    # Markdownæ ·å¼
â”‚
â”œâ”€â”€ ğŸš€ scripts/                           # è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ start.sh                          # å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ start_chrome.sh                   # Chromeå¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ auto_run.sh                       # ğŸ†• ä¸€é”®è¿è¡Œè„šæœ¬
â”‚
â”œâ”€â”€ ğŸ“ posts/                             # æ–‡ç« ç›®å½•
â”‚   â”œâ”€â”€ README.md                         # æ–‡ç« è¯´æ˜
â”‚   â””â”€â”€ *.md                              # Markdownæ–‡ç« 
â”‚
â”œâ”€â”€ ğŸ’¾ data/                              # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ cookies/                          # Cookieå­˜å‚¨
â”‚   â”œâ”€â”€ logs/                             # æ—¥å¿—æ–‡ä»¶
â”‚   â”œâ”€â”€ last_published.txt                # ä¸Šæ¬¡å‘å¸ƒè®°å½•
â”‚   â””â”€â”€ generated/                        # ğŸ†• ç”Ÿæˆçš„ä¸­é—´æ•°æ®
â”‚       â”œâ”€â”€ 01_crawled_news.json          # ğŸ†• æŠ“å–çš„æ–°é—»
â”‚       â”œâ”€â”€ 02_search_references.json     # ğŸ†• æœç´¢çš„å‚è€ƒèµ„æ–™
â”‚       â”œâ”€â”€ 03_generated_articles.json    # ğŸ†• ç”Ÿæˆçš„æ–‡ç« åˆ—è¡¨
â”‚       â””â”€â”€ 04_pipeline_report.txt        # ğŸ†• è¿è¡ŒæŠ¥å‘Š
â”‚
â”œâ”€â”€ ğŸ“– docs/                              # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ PROJECT_OVERVIEW.md               # é¡¹ç›®æ¦‚è¿°
â”‚   â”œâ”€â”€ INSTALLATION.md                   # å®‰è£…æŒ‡å—
â”‚   â”œâ”€â”€ USAGE.md                          # ä½¿ç”¨æŒ‡å—
â”‚   â”œâ”€â”€ DEVELOPMENT.md                    # å¼€å‘æŒ‡å—
â”‚   â”œâ”€â”€ BATCH_PUBLISH.md                  # æ‰¹é‡å‘å¸ƒæ–‡æ¡£
â”‚   â”œâ”€â”€ QUICKSTART.md                     # ğŸ†• å¿«é€Ÿå¼€å§‹
â”‚   â”œâ”€â”€ CONTENT_GENERATION.md             # ğŸ†• å†…å®¹ç”Ÿæˆæ–‡æ¡£
â”‚   â””â”€â”€ IMPLEMENTATION_SUMMARY.md         # ğŸ†• å®ç°æ€»ç»“
â”‚
â”œâ”€â”€ ğŸ§ª tests/                             # æµ‹è¯•ç›®å½•
â”‚   â”œâ”€â”€ test_setup.py                     # æµ‹è¯•é…ç½®
â”‚   â”œâ”€â”€ test_article_selection_logic.py   # æ–‡ç« é€‰æ‹©é€»è¾‘æµ‹è¯•
â”‚   â”œâ”€â”€ test_csdn_publisher.py            # CSDNå‘å¸ƒå™¨æµ‹è¯•
â”‚   â”œâ”€â”€ test_juejin_publisher.py          # æ˜é‡‘å‘å¸ƒå™¨æµ‹è¯•
â”‚   â”œâ”€â”€ test_zhihu_publisher.py           # çŸ¥ä¹å‘å¸ƒå™¨æµ‹è¯•
â”‚   â”œâ”€â”€ test_cto51_publisher.py           # 51CTOå‘å¸ƒå™¨æµ‹è¯•
â”‚   â”œâ”€â”€ test_alicloud_publisher.py        # é˜¿é‡Œäº‘å‘å¸ƒå™¨æµ‹è¯•
â”‚   â”œâ”€â”€ test_toutiao_publisher.py         # ä»Šæ—¥å¤´æ¡å‘å¸ƒå™¨æµ‹è¯•
â”‚   â”œâ”€â”€ test_wechat_publisher.py          # å¾®ä¿¡å…¬ä¼—å·æµ‹è¯•
â”‚   â”œâ”€â”€ test_zhipu_generator.py           # æ™ºè°±ç”Ÿæˆå™¨æµ‹è¯•
â”‚   â””â”€â”€ test_content_generation.py        # ğŸ†• å†…å®¹ç”Ÿæˆæµ‹è¯•
â”‚
â”œâ”€â”€ ğŸ¯ publish.py                         # å•ç¯‡å‘å¸ƒä¸»ç¨‹åº
â”œâ”€â”€ ğŸ“¦ batch_publish.py                   # æ‰¹é‡å‘å¸ƒä¸»ç¨‹åº
â””â”€â”€ ğŸ§¹ test_batch_publish.py              # æ‰¹é‡å‘å¸ƒæµ‹è¯•
```

## ğŸ†• æ–°å¢æ–‡ä»¶è¯´æ˜

### æ ¸å¿ƒæ¨¡å—ï¼ˆ4ä¸ªï¼‰

1. **qbitai_crawler.py** (320è¡Œ)
   - é‡å­ä½æ–°é—»çˆ¬è™«
   - æŠ“å–TOPçƒ­ç‚¹æ–°é—»
   - æå–å®Œæ•´å…ƒæ•°æ®

2. **reference_searcher.py** (460è¡Œ)
   - å‚è€ƒèµ„æ–™æœç´¢å™¨
   - å¤šç»´åº¦ä¿¡æ¯æ”¶é›†
   - æ”¯æŒå¿«é€Ÿ/æ·±åº¦æœç´¢

3. **enhanced_content_generator.py** (580è¡Œ)
   - å¢å¼ºç‰ˆå†…å®¹ç”Ÿæˆå™¨
   - é«˜ä»¿é‡å­ä½é£æ ¼
   - æ™ºèƒ½æ ‡ç­¾å’Œæè¿°

4. **auto_content_pipeline.py** (360è¡Œ)
   - è‡ªåŠ¨åŒ–æµæ°´çº¿
   - ç«¯åˆ°ç«¯æ‰§è¡Œ
   - è¯¦ç»†è¿è¡ŒæŠ¥å‘Š

### é…ç½®å’Œè„šæœ¬ï¼ˆ2ä¸ªï¼‰

5. **content_generation.yaml**
   - å†…å®¹ç”Ÿæˆé…ç½®
   - æ‰€æœ‰å‚æ•°è®¾ç½®

6. **auto_run.sh**
   - ä¸€é”®å¯åŠ¨è„šæœ¬
   - æ”¯æŒå¤šç§æ¨¡å¼
   - å‹å¥½çš„å‘½ä»¤è¡Œç•Œé¢

### æ–‡æ¡£ï¼ˆ4ä¸ªï¼‰

7. **QUICKSTART.md**
   - å¿«é€Ÿå¼€å§‹æŒ‡å—
   - 5åˆ†é’Ÿä¸Šæ‰‹

8. **CONTENT_GENERATION.md**
   - å®Œæ•´åŠŸèƒ½æ–‡æ¡£
   - è¯¦ç»†ä½¿ç”¨è¯´æ˜

9. **IMPLEMENTATION_SUMMARY.md**
   - å®ç°æ€»ç»“
   - æŠ€æœ¯äº®ç‚¹

10. **test_content_generation.py**
    - é›†æˆæµ‹è¯•å¥—ä»¶
    - è¦†ç›–æ‰€æœ‰æ¨¡å—

## ğŸ“Š ä»£ç ç»Ÿè®¡

### æ–°å¢ä»£ç é‡

| ç±»å‹ | æ–‡ä»¶æ•° | ä»£ç è¡Œæ•° |
|------|--------|----------|
| æ ¸å¿ƒæ¨¡å— | 4 | ~1,720 |
| é…ç½®æ–‡ä»¶ | 1 | ~80 |
| è„šæœ¬æ–‡ä»¶ | 1 | ~200 |
| æ–‡æ¡£ | 3 | ~1,000 |
| æµ‹è¯• | 1 | ~200 |
| **æ€»è®¡** | **10** | **~3,200** |

### æ–‡ä»¶å¤§å°åˆ†å¸ƒ

- **å°å‹** (<100è¡Œ): 1ä¸ª
- **ä¸­å‹** (100-500è¡Œ): 4ä¸ª
- **å¤§å‹** (>500è¡Œ): 2ä¸ª

## ğŸ”— æ¨¡å—ä¾èµ–å…³ç³»

```
auto_content_pipeline.py
    â”œâ”€â”€ qbitai_crawler.py
    â”‚   â””â”€â”€ requests, BeautifulSoup
    â”‚
    â”œâ”€â”€ reference_searcher.py
    â”‚   â””â”€â”€ ZhipuAI (æ™ºè°±API)
    â”‚
    â””â”€â”€ enhanced_content_generator.py
        â””â”€â”€ ZhipuAI (æ™ºè°±API)

â†“â†“â†“ è¾“å‡ºåˆ° â†“â†“â†“

posts/*.md
    â†“â†“â†“ è¾“å…¥åˆ° â†“â†“â†“
batch_publish.py
    â””â”€â”€ src/publisher/*.py
```

## ğŸ“¦ ä¾èµ–åŒ…

### å·²æœ‰ä¾èµ–
```
selenium>=4.0.0
beautifulsoup4>=4.9.0
pyyaml>=5.4.0
requests>=2.25.0
markdown>=3.3.0
```

### æ–°å¢ä¾èµ–
```
zhipuai>=2.0.0    # æ™ºè°±AI SDK
```

## ğŸ¯ å…³é”®ç›®å½•è¯´æ˜

### `/generate` - å†…å®¹ç”Ÿæˆæ¨¡å—
æ–°å¢çš„æ ¸å¿ƒæ¨¡å—ç›®å½•ï¼ŒåŒ…å«æ‰€æœ‰å†…å®¹ç”Ÿæˆç›¸å…³ä»£ç ã€‚

### `/data/generated` - ä¸­é—´æ•°æ®
å­˜å‚¨æµæ°´çº¿æ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä¸­é—´ç»“æœï¼Œæ–¹ä¾¿è°ƒè¯•å’Œè¿½æº¯ã€‚

### `/docs` - æ–‡æ¡£
æ–°å¢3ä¸ªæ–‡æ¡£ï¼Œæä¾›å®Œæ•´çš„ä½¿ç”¨å’Œå¼€å‘æŒ‡å—ã€‚

### `/scripts` - è„šæœ¬
æ–°å¢ `auto_run.sh` ä¸€é”®å¯åŠ¨è„šæœ¬ã€‚

## ğŸ”§ é…ç½®æ–‡ä»¶è¯´æ˜

### å¹³å°é…ç½®ï¼ˆå·²æœ‰ï¼‰
- `config/common.yaml` - é€šç”¨é…ç½®
- `config/*.yaml` - å„å¹³å°ä¸“å±é…ç½®

### å†…å®¹ç”Ÿæˆé…ç½®ï¼ˆæ–°å¢ï¼‰
- `config/content_generation.yaml` - å†…å®¹ç”Ÿæˆé…ç½®

## ğŸ“ ä½¿ç”¨æµç¨‹

```bash
# 1. æŸ¥çœ‹é¡¹ç›®ç»“æ„
tree -L 2

# 2. é…ç½®APIå¯†é’¥
export ZHIPUAI_API_KEY="your-key"

# 3. ä¸€é”®è¿è¡Œ
./scripts/auto_run.sh

# 4. æŸ¥çœ‹ç”Ÿæˆç»“æœ
ls posts/*.md
ls data/generated/
```

## ğŸ¨ ç›®å½•å‘½åè§„èŒƒ

- ğŸ“„ `.md` - Markdownæ–‡æ¡£
- ğŸ“ `/` - ç›®å½•
- ğŸ†• - æ–°å¢æ–‡ä»¶/ç›®å½•
- ğŸ”§ - é…ç½®æ–‡ä»¶
- ğŸ¤– - AI/è‡ªåŠ¨åŒ–ç›¸å…³
- ğŸ“š - æºä»£ç 
- ğŸš€ - è„šæœ¬
- ğŸ“ - æ–‡ç« 
- ğŸ’¾ - æ•°æ®
- ğŸ“– - æ–‡æ¡£
- ğŸ§ª - æµ‹è¯•

---

**æ€»æ–‡ä»¶æ•°**: ~60+  
**æ€»ä»£ç è¡Œæ•°**: ~12,000+  
**æ–°å¢ä»£ç **: ~3,200  
**æ–‡æ¡£å®Œæ•´åº¦**: âœ… 100%
