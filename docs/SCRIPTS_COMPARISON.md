# è„šæœ¬å¯¹æ¯”è¯´æ˜

## auto_run.sh vs auto_publish.sh

### ğŸ“‹ å¿«é€Ÿå¯¹æ¯”è¡¨

| ç‰¹æ€§ | auto_run.sh | auto_publish.sh |
|------|-------------|-----------------|
| **ä¸»è¦åŠŸèƒ½** | å†…å®¹ç”Ÿæˆ + å‘å¸ƒ | å†…å®¹ç”Ÿæˆ + å‘å¸ƒ |
| **çµæ´»æ€§** | â­â­â­â­â­ é«˜åº¦å¯é…ç½® | â­â­â­ å›ºå®šæµç¨‹ |
| **å‘½ä»¤è¡Œå‚æ•°** | ä¸°å¯Œï¼ˆ10+ é€‰é¡¹ï¼‰ | ç®€å•ï¼ˆé»˜è®¤é…ç½®ï¼‰ |
| **é€‚ç”¨åœºæ™¯** | é«˜çº§ç”¨æˆ·ã€è‡ªå®šä¹‰éœ€æ±‚ | å¿«é€Ÿå¼€å§‹ã€é»˜è®¤é…ç½® |
| **äº¤äº’æ€§** | æ”¯æŒå•ç‹¬æ‰§è¡Œå„é˜¶æ®µ | ä¸€é”®è¿è¡Œå®Œæ•´æµç¨‹ |
| **åç«¯è„šæœ¬** | generate + batch_publish | auto_publish_pipeline.py |

---

## auto_run.sh - é«˜çº§å¯é…ç½®è„šæœ¬

### ç‰¹ç‚¹

âœ… **é«˜åº¦çµæ´»**ï¼šæ”¯æŒå¤šç§è¿è¡Œæ¨¡å¼å’Œå‚æ•°ç»„åˆ  
âœ… **åˆ†æ­¥æ‰§è¡Œ**ï¼šå¯å•ç‹¬æ‰§è¡Œç”Ÿæˆæˆ–å‘å¸ƒæ­¥éª¤  
âœ… **ä¸°å¯Œå‚æ•°**ï¼šæä¾›è¯¦ç»†çš„å‘½ä»¤è¡Œé€‰é¡¹  
âœ… **é€‚åˆå®šåˆ¶**ï¼šå¯æ ¹æ®éœ€è¦è°ƒæ•´å‚æ•°  

### ä½¿ç”¨åœºæ™¯

1. **ä»…ç”Ÿæˆå†…å®¹ï¼Œä¸å‘å¸ƒ**
   ```bash
   bash scripts/auto_run.sh --generate-only --article-limit 3
   ```

2. **ä»…å‘å¸ƒå·²ç”Ÿæˆçš„æ–‡ç« **
   ```bash
   bash scripts/auto_run.sh --publish-only
   ```

3. **ä½¿ç”¨æ·±åº¦æœç´¢æ¨¡å¼**
   ```bash
   bash scripts/auto_run.sh --depth deep --article-limit 5
   ```

4. **å¼ºåˆ¶å‘å¸ƒæ‰€æœ‰æ–‡ç« ï¼ˆåŒ…æ‹¬å·²å‘å¸ƒçš„ï¼‰**
   ```bash
   bash scripts/auto_run.sh --force-publish
   ```

5. **æ£€æŸ¥ç¯å¢ƒé…ç½®**
   ```bash
   bash scripts/auto_run.sh --check
   ```

### å®Œæ•´å‚æ•°åˆ—è¡¨

```bash
ç”¨æ³•: auto_run.sh [é€‰é¡¹]

é€‰é¡¹:
    -h, --help              æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
    -g, --generate-only     ä»…ç”Ÿæˆå†…å®¹ï¼Œä¸å‘å¸ƒ
    -p, --publish-only      ä»…å‘å¸ƒå†…å®¹ï¼Œä¸ç”Ÿæˆ
    -n, --news-limit N      æŠ“å–çš„æ–°é—»æ•°é‡ï¼ˆé»˜è®¤: 10ï¼‰
    -a, --article-limit N   ç”Ÿæˆçš„æ–‡ç« æ•°é‡ï¼ˆé»˜è®¤: 5ï¼‰
    -d, --depth MODE        æœç´¢æ·±åº¦: quick æˆ– deepï¼ˆé»˜è®¤: quickï¼‰
    -f, --force-publish     å¼ºåˆ¶å‘å¸ƒæ‰€æœ‰æ–‡ç« ï¼ˆåŒ…æ‹¬å·²å‘å¸ƒçš„ï¼‰
    --check                 æ£€æŸ¥ä¾èµ–å’Œé…ç½®

ç¤ºä¾‹:
    # ä½¿ç”¨é»˜è®¤é…ç½®ï¼ˆç”Ÿæˆ5ç¯‡ + å‘å¸ƒï¼‰
    ./auto_run.sh

    # ä»…ç”Ÿæˆ3ç¯‡æ–‡ç« 
    ./auto_run.sh --generate-only --article-limit 3

    # ä»…å‘å¸ƒå·²ç”Ÿæˆçš„æ–‡ç« 
    ./auto_run.sh --publish-only

    # ç”Ÿæˆ10ç¯‡æ–‡ç« ï¼Œä½¿ç”¨æ·±åº¦æœç´¢
    ./auto_run.sh --article-limit 10 --depth deep

    # æ£€æŸ¥ç¯å¢ƒé…ç½®
    ./auto_run.sh --check
```

### å·¥ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  auto_run.sh                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  1. æ£€æŸ¥ä¾èµ–                             â”‚
â”‚     - Python3                           â”‚
â”‚     - Chrome                            â”‚
â”‚     - ZHIPUAI_API_KEY                   â”‚
â”‚                                         â”‚
â”‚  2. å†…å®¹ç”Ÿæˆï¼ˆå¯é€‰ï¼‰                      â”‚
â”‚     è°ƒç”¨: generate/auto_content_pipeline.py â”‚
â”‚     - æŠ“å–æ–°é—»                           â”‚
â”‚     - æœç´¢èµ„æ–™                           â”‚
â”‚     - ç”Ÿæˆæ–‡ç«                            â”‚
â”‚                                         â”‚
â”‚  3. æ‰¹é‡å‘å¸ƒï¼ˆå¯é€‰ï¼‰                      â”‚
â”‚     è°ƒç”¨: batch_publish.py              â”‚
â”‚     - è¯»å–æ–‡ç« åˆ—è¡¨                       â”‚
â”‚     - é€ç¯‡å‘å¸ƒåˆ°å„å¹³å°                   â”‚
â”‚                                         â”‚
â”‚  4. æ˜¾ç¤ºç»“æœ                             â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## auto_publish.sh - å¿«é€Ÿå¯åŠ¨è„šæœ¬

### ç‰¹ç‚¹

âœ… **ä¸€é”®è¿è¡Œ**ï¼šæ— éœ€é…ç½®å‚æ•°ï¼Œç›´æ¥è¿è¡Œ  
âœ… **ç®€å•ç›´æ¥**ï¼šé€‚åˆå¿«é€Ÿå¼€å§‹ä½¿ç”¨  
âœ… **å›ºå®šæµç¨‹**ï¼šæ‰§è¡Œæ ‡å‡†çš„ç”Ÿæˆ+å‘å¸ƒæµç¨‹  
âœ… **æ–°æ‰‹å‹å¥½**ï¼šé™ä½ä½¿ç”¨é—¨æ§›  

### ä½¿ç”¨åœºæ™¯

1. **å¿«é€Ÿç”Ÿæˆå¹¶å‘å¸ƒ1ç¯‡æ–‡ç« **ï¼ˆé»˜è®¤è¡Œä¸ºï¼‰
   ```bash
   bash scripts/auto_publish.sh
   ```

2. **æ—¥å¸¸å†…å®¹å‘å¸ƒ**
   ```bash
   # è®¾ç½® API Key
   export ZHIPUAI_API_KEY='your-key'
   
   # è¿è¡Œ
   bash scripts/auto_publish.sh
   ```

### é»˜è®¤é…ç½®

```bash
--news-limit 10         # æŠ“å–10æ¡æ–°é—»
--article-limit 1       # ç”Ÿæˆ1ç¯‡æ–‡ç« 
--search-depth quick    # å¿«é€Ÿæœç´¢æ¨¡å¼
--delay 2.0            # APIå»¶è¿Ÿ2ç§’
--publish-delay 3.0    # å‘å¸ƒå»¶è¿Ÿ3ç§’
```

### å·¥ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  auto_publish.sh                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  1. æ£€æŸ¥ ZHIPUAI_API_KEY                â”‚
â”‚                                         â”‚
â”‚  2. æ£€æŸ¥/å¯åŠ¨ Chrome è°ƒè¯•æ¨¡å¼            â”‚
â”‚                                         â”‚
â”‚  3. è¿è¡Œå®Œæ•´æµæ°´çº¿                       â”‚
â”‚     è°ƒç”¨: auto_publish_pipeline.py      â”‚
â”‚     â”œâ”€ ç”Ÿæˆå†…å®¹ï¼ˆ1ç¯‡ï¼‰                   â”‚
â”‚     â”œâ”€ åˆå§‹åŒ–æµè§ˆå™¨                      â”‚
â”‚     â””â”€ æ‰¹é‡å‘å¸ƒåˆ°æ‰€æœ‰å¹³å°                â”‚
â”‚                                         â”‚
â”‚  4. å®Œæˆ                                â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å¦‚ä½•é€‰æ‹©ï¼Ÿ

### é€‰æ‹© auto_run.shï¼Œå¦‚æœä½ ï¼š

- âœ… éœ€è¦çµæ´»æ§åˆ¶ç”Ÿæˆå’Œå‘å¸ƒæµç¨‹
- âœ… æƒ³è¦å•ç‹¬æ‰§è¡ŒæŸä¸ªæ­¥éª¤
- âœ… éœ€è¦è‡ªå®šä¹‰å‚æ•°ï¼ˆæ–‡ç« æ•°é‡ã€æœç´¢æ·±åº¦ç­‰ï¼‰
- âœ… è¿›è¡Œæµ‹è¯•æˆ–è°ƒè¯•
- âœ… æ˜¯é«˜çº§ç”¨æˆ·

**å…¸å‹å‘½ä»¤**ï¼š
```bash
# ç”Ÿæˆ3ç¯‡æ·±åº¦æ–‡ç« ï¼Œä½†ä¸å‘å¸ƒ
bash scripts/auto_run.sh -g -a 3 -d deep

# åªå‘å¸ƒå·²æœ‰æ–‡ç« 
bash scripts/auto_run.sh -p
```

### é€‰æ‹© auto_publish.shï¼Œå¦‚æœä½ ï¼š

- âœ… æƒ³è¦å¿«é€Ÿå¼€å§‹ï¼Œä¸å…³å¿ƒç»†èŠ‚
- âœ… ä½¿ç”¨é»˜è®¤é…ç½®å°±å¤Ÿäº†
- âœ… æ¯å¤©ç”Ÿæˆ1ç¯‡æ–‡ç« å³å¯
- âœ… æ˜¯æ–°æ‰‹ç”¨æˆ·
- âœ… å¸Œæœ›ç®€å•ä¸€é”®è¿è¡Œ

**å…¸å‹å‘½ä»¤**ï¼š
```bash
# å°±è¿™ä¸€æ¡å‘½ä»¤ï¼Œæå®šæ‰€æœ‰äº‹æƒ…
bash scripts/auto_publish.sh
```

---

## æ¨èä½¿ç”¨æ–¹å¼

### æ–°æ‰‹å…¥é—¨

```bash
# ç¬¬1å¤©ï¼šä½¿ç”¨ auto_publish.sh å¿«é€Ÿä½“éªŒ
bash scripts/auto_publish.sh

# ç¬¬2å¤©ï¼šç»§ç»­ä½¿ç”¨ï¼Œç†Ÿæ‚‰æµç¨‹
bash scripts/auto_publish.sh

# ç¬¬3å¤©åï¼šæ ¹æ®éœ€è¦åˆ‡æ¢åˆ° auto_run.sh
bash scripts/auto_run.sh --article-limit 3
```

### æ—¥å¸¸ä½¿ç”¨

```bash
# å·¥ä½œæ—¥ï¼šæ¯å¤©ç”Ÿæˆ1ç¯‡ï¼ˆä½¿ç”¨ auto_publish.shï¼‰
bash scripts/auto_publish.sh

# å‘¨æœ«ï¼šæ‰¹é‡ç”Ÿæˆå¤šç¯‡ï¼ˆä½¿ç”¨ auto_run.shï¼‰
bash scripts/auto_run.sh --article-limit 5 --depth deep
```

### é«˜çº§ç”¨æˆ·

```bash
# åˆ†æ­¥éª¤æ‰§è¡Œï¼Œå®Œå…¨æŒæ§

# æ­¥éª¤1ï¼šå…ˆç”Ÿæˆå†…å®¹
bash scripts/auto_run.sh --generate-only --article-limit 10

# æ­¥éª¤2ï¼šäººå·¥å®¡æ ¸æ–‡ç« ï¼ˆç¼–è¾‘ posts/ ç›®å½•ä¸‹çš„æ–‡ç« ï¼‰

# æ­¥éª¤3ï¼šå†å‘å¸ƒå†…å®¹
bash scripts/auto_run.sh --publish-only
```

---

## èƒŒåçš„ Python è„šæœ¬

### auto_content_pipeline.pyï¼ˆå†…å®¹ç”Ÿæˆï¼‰

```bash
# auto_run.sh è°ƒç”¨
python3 generate/auto_content_pipeline.py \
    --news-limit 10 \
    --article-limit 5 \
    --search-depth quick
```

**åŠŸèƒ½**ï¼š
- æŠ“å–é‡å­ä½æ–°é—»
- æœç´¢å‚è€ƒèµ„æ–™
- ç”Ÿæˆæ–‡ç« 
- ä¿å­˜åˆ° posts/ ç›®å½•

### batch_publish.pyï¼ˆæ‰¹é‡å‘å¸ƒï¼‰

```bash
# auto_run.sh è°ƒç”¨
python3 batch_publish.py --skip-published
```

**åŠŸèƒ½**ï¼š
- è¯»å–æ–‡ç« åˆ—è¡¨
- é€ç¯‡å‘å¸ƒåˆ°å„å¹³å°
- è®°å½•å‘å¸ƒçŠ¶æ€

### auto_publish_pipeline.pyï¼ˆå®Œæ•´æµæ°´çº¿ï¼‰

```bash
# auto_publish.sh è°ƒç”¨
python3 auto_publish_pipeline.py \
    --news-limit 10 \
    --article-limit 1 \
    --search-depth quick
```

**åŠŸèƒ½**ï¼š
- é›†æˆå†…å®¹ç”Ÿæˆ + æ‰¹é‡å‘å¸ƒ
- åŒå±‚å¾ªç¯å‘å¸ƒé€»è¾‘
- ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆ

---

## æ€»ç»“

| ç‰¹æ€§ | auto_run.sh | auto_publish.sh |
|------|-------------|-----------------|
| **å¤æ‚åº¦** | é«˜ï¼ˆçµæ´»å¯æ§ï¼‰ | ä½ï¼ˆç®€å•ç›´æ¥ï¼‰ |
| **å­¦ä¹ æ›²çº¿** | é™¡ï¼ˆéœ€è¦ç†è§£å‚æ•°ï¼‰ | å¹³ï¼ˆå¼€ç®±å³ç”¨ï¼‰ |
| **é€‚ç”¨äººç¾¤** | é«˜çº§ç”¨æˆ· | æ‰€æœ‰ç”¨æˆ· |
| **æ¨èåœºæ™¯** | å®šåˆ¶åŒ–éœ€æ±‚ | å¿«é€Ÿå¼€å§‹ |

ğŸ¯ **å»ºè®®**ï¼š
- æ–°æ‰‹ï¼šä» `auto_publish.sh` å¼€å§‹
- è¿›é˜¶ï¼šå­¦ä¹  `auto_run.sh` çš„å„ç§å‚æ•°
- é«˜çº§ï¼šç›´æ¥è°ƒç”¨ Python è„šæœ¬ï¼Œå®Œå…¨è‡ªå®šä¹‰
